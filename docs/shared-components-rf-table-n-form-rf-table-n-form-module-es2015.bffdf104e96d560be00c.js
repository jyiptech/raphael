(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{kYGi:function(e,t,i){"use strict";i.r(t),i.d(t,"RfTableNFormModule",function(){return j});var n=i("ofXK"),o=i("tyNb"),r=i("fXoL");const c=["*"];let s=(()=>{class e{constructor(e,t){this.el=e,this.renderer=t,this.element=e.nativeElement}clickout(e){e&&e.target&&"rf-modal"==e.target.className&&this.close()}ngOnInit(){this.renderer.appendChild(document.body,this.element)}ngOnDestroy(){this.element.remove()}open(){this.renderer.setStyle(this.element,"display","block"),this.renderer.addClass(document.body,"rf-modal-open")}close(){this.renderer.setStyle(this.element,"display","none"),this.renderer.removeClass(document.body,"rf-modal-open")}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(r.l),r.Lb(r.E))},e.\u0275cmp=r.Fb({type:e,selectors:[["app-rf-modal"]],hostBindings:function(e,t){1&e&&r.Wb("click",function(e){return t.clickout(e)},!1,r.hc)},ngContentSelectors:c,decls:4,vars:0,consts:[[1,"rf-modal"],[1,"rf-modal-body"],[1,"rf-modal-background"]],template:function(e,t){1&e&&(r.cc(),r.Qb(0,"div",0),r.Qb(1,"div",1),r.bc(2),r.Pb(),r.Pb(),r.Mb(3,"div",2))},styles:["app-rf-modal{display:none}app-rf-modal .rf-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:1000;overflow:auto}app-rf-modal .rf-modal .rf-modal-body{background:#fff;margin:40px;padding:2rem;border-radius:25px;box-shadow:0 4px 8px 0 rgba(0,0,0,.2),0 6px 20px 0 rgba(0,0,0,.19)}app-rf-modal .rf-modal .rf-modal-body .form-group{margin-bottom:.5rem}app-rf-modal .rf-modal .rf-modal-body .form-group input,app-rf-modal .rf-modal .rf-modal-body .form-group label{color:#5a5a5a}app-rf-modal .rf-modal .rf-modal-body .custom-checkbox{display:flex;align-items:flex-end;gap:1rem}app-rf-modal .rf-modal .rf-modal-body .custom-checkbox .form-check{display:inline-block}app-rf-modal .rf-modal-background{position:fixed;top:0;right:0;bottom:0;left:0;background-color:#000;opacity:.75;z-index:900}body.rf-modal-open{overflow:hidden}"],encapsulation:2}),e})();var l=i("GmAO"),a=i("vihK"),d=i("3Pt+");function b(e,t){if(1&e&&r.Mb(0,"input",8),2&e){const e=r.Yb();r.dc("id",e.field.key)("formControlName",e.field.key)}}function f(e,t){if(1&e&&(r.Qb(0,"option",11),r.nc(1),r.Pb()),2&e){const e=t.$implicit;r.dc("value",e.key),r.Bb(1),r.pc(" ",e.value," ")}}function m(e,t){if(1&e&&(r.Qb(0,"select",9),r.lc(1,f,2,2,"option",10),r.Pb()),2&e){const e=r.Yb();r.dc("id",e.field.key)("formControlName",e.field.key),r.Bb(1),r.dc("ngForOf",e.field.options)}}function p(e,t){if(1&e&&(r.Qb(0,"div",12),r.Mb(1,"input",13),r.Pb()),2&e){const e=r.Yb();r.Bb(1),r.dc("id",e.field.key)("formControlName",e.field.key)}}function u(e,t){if(1&e&&r.Mb(0,"input",14),2&e){const e=r.Yb();r.dc("formControlName",e.field.key)("id",e.field.key)("type",e.field.type)}}function g(e,t){1&e&&(r.Qb(0,"small",16),r.nc(1," This field is required. "),r.Pb())}function h(e,t){if(1&e&&(r.Qb(0,"div"),r.lc(1,g,2,0,"small",15),r.Pb()),2&e){const e=r.Yb();r.Bb(1),r.dc("ngIf",e.formControlGetter.hasError("required"))}}let y=(()=>{class e{constructor(){this.formControlGetter=new d.d}ngOnInit(){this.formControlGetter=this.form.get(this.field.key)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["app-dynamic-form-field-set"]],inputs:{field:"field",form:"form"},decls:9,vars:8,consts:[[1,"form-group",3,"formGroup"],[1,"form-label"],[3,"ngSwitch"],["type","date","class","form-control",3,"id","formControlName",4,"ngSwitchCase"],["class","form-control",3,"id","formControlName",4,"ngSwitchCase"],["class","form-check custom-checkbox",4,"ngSwitchCase"],["class","form-control",3,"formControlName","id","type",4,"ngSwitchDefault"],[4,"ngIf"],["type","date",1,"form-control",3,"id","formControlName"],[1,"form-control",3,"id","formControlName"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"form-check","custom-checkbox"],["type","checkbox",1,"form-check-input",3,"id","formControlName"],[1,"form-control",3,"formControlName","id","type"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.Qb(1,"label",1),r.nc(2),r.Pb(),r.Qb(3,"div",2),r.lc(4,b,1,2,"input",3),r.lc(5,m,2,3,"select",4),r.lc(6,p,2,2,"div",5),r.lc(7,u,1,3,"input",6),r.Pb(),r.lc(8,h,2,1,"div",7),r.Pb()),2&e&&(r.dc("formGroup",t.form),r.Bb(1),r.Cb("for",t.field.key),r.Bb(1),r.oc(t.field.label),r.Bb(1),r.dc("ngSwitch",t.field.type),r.Bb(1),r.dc("ngSwitchCase","date"),r.Bb(1),r.dc("ngSwitchCase","dropdown"),r.Bb(1),r.dc("ngSwitchCase","checkbox"),r.Bb(2),r.dc("ngIf",t.formControlGetter&&t.formControlGetter.invalid&&t.formControlGetter.errors&&(t.formControlGetter.dirty||t.formControlGetter.touched)))},directives:[d.k,d.g,n.l,n.m,n.n,n.k,d.b,d.j,d.e,d.q,n.j,d.n,d.t,d.a],styles:["[_nghost-%COMP%]{display:inline-block}"]}),e})();function v(e,t){if(1&e&&(r.Ob(0),r.Mb(1,"app-dynamic-form-field-set",5),r.Nb()),2&e){const e=t.$implicit,i=r.Yb(2);r.Bb(1),r.dc("field",e)("form",i.form)}}function P(e,t){if(1&e){const e=r.Rb();r.Qb(0,"form",1),r.Wb("ngSubmit",function(){return r.ic(e),r.Yb().onSubmit()}),r.lc(1,v,2,2,"ng-container",2),r.Qb(2,"div",3),r.Qb(3,"button",4),r.Wb("click",function(){return r.ic(e),r.Yb().onSubmit()}),r.nc(4," Submit "),r.Pb(),r.Pb(),r.Pb()}if(2&e){const e=r.Yb();r.dc("formGroup",e.form),r.Bb(1),r.dc("ngForOf",e.dynFields)}}let k=(()=>{class e{constructor(e,t){this.tfService=e,this.configServ=t,this.dynFields=[],this.closeModal=new r.n,this.payLoad=""}ngOnInit(){}ngOnChanges(e){this.form=this.tfService.toFormGroup(this.dynFields)}onSubmit(){const e=this.dynFields.filter(e=>"date"===e.type);if(e.length>0&&e.map(e=>{const t=e.key.toString();this.form.value[t]=new Date(this.form.value[t])}),this.payLoad=JSON.stringify(this.form.value),this.form.valid){const e=this.tfService.getCurrentPage();if(!e)return;this.configServ.postFormData(e,this.form.value).subscribe(e=>{console.log(e),this.form.reset(),this.closeModal.emit()})}}onEditForm(e){this.form.patchValue(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(l.a),r.Lb(a.a))},e.\u0275cmp=r.Fb({type:e,selectors:[["app-dynamic-form"]],inputs:{dynFields:"dynFields"},outputs:{closeModal:"closeModal"},features:[r.zb],decls:1,vars:1,consts:[["class","row",3,"formGroup","ngSubmit",4,"ngIf"],[1,"row",3,"formGroup","ngSubmit"],[4,"ngFor","ngForOf"],[1,"col-md-12","py-2"],["type","button",1,"btn","btn-primary",3,"click"],[1,"col-md-6",3,"field","form"]],template:function(e,t){1&e&&r.lc(0,P,5,2,"form",0),2&e&&r.dc("ngIf",t.dynFields)},directives:[n.k,d.s,d.k,d.g,n.j,y],styles:["[_nghost-%COMP%]{width:100%}"]}),e})();var w=i("mJUZ"),F=i("qXBG");function Q(e,t){if(1&e){const e=r.Rb();r.Qb(0,"li"),r.Qb(1,"a",8),r.Wb("click",function(){const t=r.ic(e).$implicit;return r.Yb().navToPage(t)}),r.Mb(2,"i",14),r.Qb(3,"em"),r.nc(4),r.Pb(),r.Pb(),r.Pb()}if(2&e){const e=t.$implicit,i=r.Yb();r.Bb(2),r.dc("ngClass","bi-"+i.pageInfo[e].logo),r.Bb(2),r.oc(i.getCapsMenuName(e))}}let C=(()=>{class e{constructor(e,t){this.router=e,this.authService=t,this.pageInfo=w.a,this.menuList=[""],this.isOpen=!1}ngOnInit(){this.menuList=Object.keys(this.pageInfo)}toggleOpen(){this.isOpen=!this.isOpen}navToPage(e){this.router.navigate(["/main",e])}getCapsMenuName(e){return e.charAt(0).toUpperCase()+e.slice(1)}signOut(){this.authService.signOut()}deleteAccount(){var e;null===(e=this.authService.deleteAccount())||void 0===e||e.subscribe(e=>console.log(e))}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(o.c),r.Lb(F.a))},e.\u0275cmp=r.Fb({type:e,selectors:[["app-rf-sidenav"]],decls:28,vars:5,consts:[[1,"s-layout-sidebar"],[1,"s-sidebar-trigger"],[1,"rounded-circle","border-0","toggle-btn","btn","btn-primary","btn-icon",3,"click"],[1,"bi","bi-list"],[1,"s-sidebar-nav"],["title","Jesus Youth","href","/",1,"d-flex","align-items-center","text-decoration-none","nav-title-wrap"],["alt","Jesus Youth Logo","src","/assets/JY_Logo.png"],[1,"fs-3","mx-2","nav-title"],[1,"s-sidebar-nav-link",3,"click"],[1,"bi","bi-box-arrow-left"],[1,"bi","bi-trash"],[1,"s-sidebar-nav-link"],[1,"bi","bi-house"],[4,"ngFor","ngForOf"],[1,"bi",3,"ngClass"]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"button",2),r.Wb("click",function(){return t.toggleOpen()}),r.Mb(3,"i",3),r.Pb(),r.Pb(),r.Qb(4,"nav",4),r.Qb(5,"a",5),r.Mb(6,"img",6),r.Qb(7,"span",7),r.nc(8," Raphael "),r.Pb(),r.Pb(),r.Mb(9,"hr"),r.Qb(10,"ul"),r.Qb(11,"li"),r.Qb(12,"a",8),r.Wb("click",function(){return t.signOut()}),r.Mb(13,"i",9),r.Qb(14,"em"),r.nc(15,"Sign Out"),r.Pb(),r.Pb(),r.Pb(),r.Qb(16,"li"),r.Qb(17,"a",8),r.Wb("click",function(){return t.deleteAccount()}),r.Mb(18,"i",10),r.Qb(19,"em"),r.nc(20,"Delete Account"),r.Pb(),r.Pb(),r.Pb(),r.Mb(21,"hr"),r.Qb(22,"li"),r.Qb(23,"a",11),r.Mb(24,"i",12),r.Qb(25,"em"),r.nc(26,"Home"),r.Pb(),r.Pb(),r.Pb(),r.lc(27,Q,5,2,"li",13),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.Bb(4),r.Db("open",t.isOpen)("close",!t.isOpen),r.Bb(23),r.dc("ngForOf",t.menuList))},directives:[n.j,n.i],styles:["em{font-style:normal}a{text-decoration:none;color:inherit}.s-layout{display:flex;width:100%;height:100vh}.s-layout-content{display:flex;justify-content:center;width:100%;flex:1}.s-sidebar-trigger{z-index:2;position:fixed;top:0;left:0;width:5rem;height:4rem;display:flex;align-items:center}.s-sidebar-trigger button{margin-left:1rem}.s-sidebar-nav{position:fixed;top:0;left:-15rem;overflow-y:scroll;overflow-x:hidden;transition:all .3s ease-in;width:15rem;height:100%;background-color:#4e73df;background-image:linear-gradient(180deg,#4e73df 10%,#224abe);color:#fff}.s-sidebar-nav .nav-title{color:#fff}.s-sidebar-nav .nav-title-wrap{margin-left:4rem;padding:.5rem 0}.s-sidebar-nav .nav-title-wrap img{width:3rem}.s-sidebar-nav ul{margin:0;padding:0}.s-sidebar-nav ul li{width:100%}.s-sidebar-nav ul li a.s-sidebar-nav-link{display:flex;align-items:center;width:100%}.s-sidebar-nav ul li a.s-sidebar-nav-link:hover{background:#fff;color:#4e73df}.s-sidebar-nav ul li a.s-sidebar-nav-link>i{margin:.5rem 1rem;overflow:visible;font-size:1.5em}.s-sidebar-nav.open,.s-sidebar-nav:focus,.s-sidebar-nav:hover{left:0}.s-sidebar-nav.close{left:-15rem}@media (min-width:768px){main.s-layout-content>app-rf-table-n-form{margin-left:4rem;width:calc(100% - 4rem)}.s-sidebar-trigger{display:none}.s-sidebar-nav{width:4rem;left:0!important}.s-sidebar-nav .nav-title-wrap{margin-left:.5rem}.s-sidebar-nav:focus,.s-sidebar-nav:hover,.s-sidebar-trigger:focus+.s-sidebar-nav,.s-sidebar-trigger:hover+.s-sidebar-nav{width:15rem}}@media (min-width:992px){main.s-layout-content>app-rf-table-n-form{margin-left:15rem;width:calc(100% - 15rem)}.s-sidebar-trigger{display:none}.s-sidebar-nav{width:15rem}}"],encapsulation:2}),e})();var x=i("IRVw");function O(e,t){if(1&e&&(r.Qb(0,"th",4),r.nc(1),r.Pb()),2&e){const e=t.$implicit;r.Bb(1),r.pc(" ",e.label," ")}}function M(e,t){if(1&e&&(r.Ob(0),r.nc(1),r.Zb(2,"date"),r.Nb()),2&e){const e=r.Yb().$implicit,t=r.Yb().$implicit;r.Bb(1),r.pc(" ",r.ac(2,1,t[e.key],"medium")," ")}}function S(e,t){if(1&e&&(r.Ob(0),r.nc(1),r.Zb(2,"date"),r.Nb()),2&e){const e=r.Yb(2).$implicit,t=r.Yb().$implicit;r.Bb(1),r.pc(" ",r.ac(2,1,t[e.key],"shortDate"),"")}}function B(e,t){if(1&e&&r.lc(0,S,3,4,"ng-container",13),2&e){const e=r.Yb().$implicit,t=r.gc(5);r.dc("ngIf","date"==e.type)("ngIfElse",t)}}function I(e,t){if(1&e&&r.nc(0),2&e){const e=r.Yb().$implicit,t=r.Yb().$implicit;r.pc(" ",t[e.key],"")}}function Y(e,t){if(1&e&&(r.Qb(0,"td",12),r.lc(1,M,3,4,"ng-container",13),r.lc(2,B,1,2,"ng-template",null,14,r.mc),r.lc(4,I,1,1,"ng-template",null,15,r.mc),r.Pb()),2&e){const e=t.$implicit,i=r.gc(3);r.ec("title",e.label),r.Bb(1),r.dc("ngIf","createdOn"==e.key)("ngIfElse",i)}}function L(e,t){if(1&e){const e=r.Rb();r.Qb(0,"tr"),r.lc(1,Y,6,3,"td",5),r.Qb(2,"td",6),r.Qb(3,"div",7),r.Qb(4,"button",8),r.Wb("click",function(){const t=r.ic(e).$implicit;return r.Yb().onEditForm(t)}),r.Mb(5,"i",9),r.Pb(),r.Qb(6,"button",10),r.Mb(7,"i",11),r.Pb(),r.Pb(),r.Pb(),r.Pb()}if(2&e){const e=r.Yb();r.Bb(1),r.dc("ngForOf",e.colFields)}}let N=(()=>{class e{constructor(){this.colFields=[],this.onEdit=new r.n}ngOnInit(){}onEditForm(e){this.onEdit.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Fb({type:e,selectors:[["app-dynamic-table"]],inputs:{colFields:"colFields",colData:"colData"},outputs:{onEdit:"onEdit"},decls:9,vars:2,consts:[[1,"col-12","table-responsive"],[1,"table"],["scope","col",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["scope","col"],[3,"title",4,"ngFor","ngForOf"],["title","Actions",1,"actions-blk"],[1,"btn-container","d-flex","justify-space-around"],["type","button",1,"btn","btn-icon","btn-primary","rounded-circle",3,"click"],[1,"bi","bi-pencil-square"],["type","button",1,"btn","btn-primary","btn-icon","rounded-circle"],[1,"bi","bi-trash"],[3,"title"],[4,"ngIf","ngIfElse"],["shortdates",""],["othertypes",""]],template:function(e,t){1&e&&(r.Qb(0,"div",0),r.Qb(1,"table",1),r.Qb(2,"thead"),r.Qb(3,"tr"),r.lc(4,O,2,1,"th",2),r.Qb(5,"th"),r.nc(6,"Actions"),r.Pb(),r.Pb(),r.Pb(),r.Qb(7,"tbody"),r.lc(8,L,8,1,"tr",3),r.Pb(),r.Pb(),r.Pb()),2&e&&(r.Bb(4),r.dc("ngForOf",t.colFields),r.Bb(4),r.dc("ngForOf",t.colData))},directives:[n.j,n.k],pipes:[n.d],styles:[""]}),e})();function E(e,t){1&e&&r.Mb(0,"app-loading-ripple")}function D(e,t){if(1&e){const e=r.Rb();r.Qb(0,"app-dynamic-table",11),r.Wb("onEdit",function(t){return r.ic(e),r.Yb().edit(t)}),r.Pb()}if(2&e){const e=r.Yb();r.dc("colFields",e.dynFields)("colData",e.tableContent)}}const G=[{path:"",component:(()=>{class e{constructor(e,t,i){this.route=e,this.rfService=t,this.configSer=i,this.filterFields=["id","createdOn","orgUniqueId"],this.selectedPage="",this.dynFields=[],this.isLoading=!1}ngOnInit(){this.route.params.subscribe(e=>{this.selectedPage=e.pagename,this.selectedPage&&(this.rfService.setCurrentPage(this.selectedPage),this.dynFields=this.rfService.getFields(this.selectedPage).filter(e=>-1==this.filterFields.indexOf(e.key)),this.getAllData(this.selectedPage))})}edit(e){this.dynFormElt.onEditForm(e),this.rfmodal.open()}getAllData(e){this.isLoading=!0,this.tableContent=[],e&&this.configSer.getAllData(e).subscribe(e=>{this.tableContent=e,this.isLoading=!1},e=>{this.isLoading=!1,alert(e)})}openModal(){this.rfmodal.open()}closeModal(){this.rfmodal.close(),this.getAllData(this.selectedPage)}}return e.\u0275fac=function(t){return new(t||e)(r.Lb(o.a),r.Lb(l.a),r.Lb(a.a))},e.\u0275cmp=r.Fb({type:e,selectors:[["app-rf-table-n-form"]],viewQuery:function(e,t){if(1&e&&(r.qc(k,5),r.qc(s,5)),2&e){let e;r.fc(e=r.Xb())&&(t.dynFormElt=e.first),r.fc(e=r.Xb())&&(t.rfmodal=e.first)}},decls:16,vars:5,consts:[[1,"page-title","d-flex","justify-content-between","align-items-center","px-2"],["type","button",1,"btn","btn-icon","rounded-circle","btn-primary","px-2",3,"click"],[1,"bi","bi-plus"],[4,"ngIf"],[3,"colFields","colData","onEdit",4,"ngIf"],[1,"row","py-3"],[1,"col-12","d-flex","justify-content-between"],[1,"mb-3"],["type","button",1,"btn","btn-primary","btn-icon","rounded-circle",3,"click"],[1,"bi","bi-x"],[3,"dynFields","closeModal"],[3,"colFields","colData","onEdit"]],template:function(e,t){1&e&&(r.Mb(0,"app-rf-sidenav"),r.Qb(1,"div",0),r.Qb(2,"h4"),r.nc(3),r.Pb(),r.Qb(4,"button",1),r.Wb("click",function(){return t.openModal()}),r.Mb(5,"i",2),r.Pb(),r.Pb(),r.lc(6,E,1,0,"app-loading-ripple",3),r.lc(7,D,1,2,"app-dynamic-table",4),r.Qb(8,"app-rf-modal"),r.Qb(9,"div",5),r.Qb(10,"div",6),r.Qb(11,"h4",7),r.nc(12),r.Pb(),r.Qb(13,"button",8),r.Wb("click",function(){return t.closeModal()}),r.Mb(14,"i",9),r.Pb(),r.Pb(),r.Pb(),r.Qb(15,"app-dynamic-form",10),r.Wb("closeModal",function(){return t.closeModal()}),r.Pb(),r.Pb()),2&e&&(r.Bb(3),r.oc(t.selectedPage),r.Bb(3),r.dc("ngIf",t.isLoading),r.Bb(1),r.dc("ngIf",!t.isLoading),r.Bb(5),r.pc("Add ",t.selectedPage,""),r.Bb(3),r.dc("dynFields",t.dynFields))},directives:[C,n.k,s,k,x.a,N],styles:["[_nghost-%COMP%]{width:100%}"]}),e})()}];let $=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Jb({type:e}),e.\u0275inj=r.Ib({imports:[[o.d.forChild(G)],o.d]}),e})();var A=i("PCNd");let j=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.Jb({type:e}),e.\u0275inj=r.Ib({imports:[[n.b,$,d.h,d.o,A.a]]}),e})()}}]);
//# sourceMappingURL=shared-components-rf-table-n-form-rf-table-n-form-module-es2015.bffdf104e96d560be00c.js.map